---
title: "ë°ì´í„°ë² ì´ìŠ¤ ë¬¸ë²•"
categories: [ "DB" ]
tags: [ "[ì¸í”„ëŸ°] ê¹€ì˜í•œì˜ ì‹¤ì „ ë°ì´í„°ë² ì´ìŠ¤ ì…ë¬¸", "RDBMS" ]
date: "2025-10-06 01:25:00"
---

# ë°ì´í„°ë² ì´ìŠ¤

## ìƒì„±

```sql
CREATE
DATABASE my_database
```

## ì‚­ì œ

```sql
DROP
DATABASE my_database
```

## ì‚¬ìš©

```sql
USE
my_database
```

## ì¡°íšŒ

```sql
SHOW
my_database
```

# DDL

## í…Œì´ë¸” ìƒì„±

```sql
CREATE TABLE customers
(
  customer_id INT AUTO_INCREMENT PRIMARY KEY,
  name        VARCHAR(50)  NOT NULL,
  email       VARCHAR(100) NOT NULL UNIQUE,
  password    VARCHAR(255) NOT NULL,
  address     VARCHAR(255) NOT NULL,
  join_date   DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

```sql
CREATE TABLE orders
(
  order_id    INT AUTO_INCREMENT PRIMARY KEY,
  customer_id INT         NOT NULL,
  quantity    INT         NOT NULL,
  order_date  DATETIME             DEFAULT CURRENT_TIMESTAMP,
  status      VARCHAR(20) NOT NULL DEFAULT 'ì£¼ë¬¸ì ‘ìˆ˜',
  CONSTRAINT fk_orders_customers FOREIGN KEY (customer_id)
    REFERENCES customers (customer_id),
);
```

### ë‚ ì§œì™€ ê¸°ë³¸ ê°’ ì„¤ì • ì˜µì…˜

```sql
CREATE TABLE test
(
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);
```

### AUTO_INCREMENT

- ë°ì´í„° ì…ë ¥ ì‹œ, ìë™ìœ¼ë¡œ 1ì”© ê°’ì´ ì¦ê°€í•œ ë°ì´í„°ê°€ ì‚½ì… ë©ë‹ˆë‹¤.

### ì™¸ë˜ í‚¤ ì œì•½ ì¡°ê±´

```sql
CONSTRAINT [ì œì•½ì¡°ê±´_ì´ë¦„]
FOREIGN KEY ([ìì‹_í…Œì´ë¸”ì˜_ì»¬ëŸ¼ëª…])
REFERENCES [ë¶€ëª¨_í…Œì´ë¸”ëª…]([ë¶€ëª¨_í…Œì´ë¸”ì˜_ì»¬ëŸ¼ëª…])
-- [ON DELETE ì˜µì…˜] [ON UPDATE ì˜µì…˜]
```

## í…Œì´ë¸” ë³€ê²½

### Column ì¶”ê°€

```sql
ALTER TABLE customers
  ADD COLUMN point INT NOT NULL DEFAULT 0;
```

### Column ë°ì´í„° íƒ€ì… ë³€ê²½

```sql
ALTER TABLE customers
  MODIFY COLUMN address VARCHAR (500) NOT NULL;
```

### Column ì‚­ì œ

```sql
ALTER TABLE customers
DROP
COLUMN point;
```

## í…Œì´ë¸” ì‚­ì œ

```sql
DROP TABLE table
```

## DROP TABLE vs TRUNCATE TABLE

- `DROP TABLE`: í…Œì´ë¸” ì¡´ì¬ ìì²´ë¥¼ ì‚­ì œ
- `TRUNCATE TABLE`: ë‚´ë¶€ ë°ì´í„°ë§Œ ëª¨ë‘ ì‚­ì œ

# DML

## ë“±ë¡

```sql
INSERT INTO table_name (column1, column2, column3, ...)
VALUES (value1, value2, value3, ...);
```

## ìˆ˜ì •

```sql
UPDATE table_name
SET column1 = value1,
    column2 = value2, ...
  WHERE condition;
```

## ì‚­ì œ

```sql
DELETE
FROM table_name
WHERE condition;
```

# ì¡°íšŒ

> ğŸ’¡ SQL ì‘ë™ ìˆœì„œ
>
> `FROM` -> `WHERE` -> `GROUP BY` -> `HAVING` -> `SELECT` -> `ORDER BY` -> `LIMIT`

```sql
SELECT customer_name,
       SUM(price * quantity) AS total_purchase -- 5ë‹¨ê³„
FROM order_stat -- 1ë‹¨ê³„
WHERE order_date < '2025-05-14' -- 2ë‹¨ê³„
GROUP BY customer_name -- 3ë‹¨ê³„
HAVING COUNT(*) >= 2 -- 4ë‹¨ê³„
ORDER BY total_purchase DESC -- 6ë‹¨ê³„
  LIMIT 1; -- 7ë‹¨ê³„
```

- `SELECT`: ì¡°íšŒ í•  ì—´ ì„ íƒ. `*`ì€ ì „ì²´
- `FROM`: ì¡°íšŒí•  í…Œì´ë¸” ì„ íƒ
- `WHERE`: ê²€ìƒ‰ ì¡°ê±´
- `GROUP BY`: ê·¸ë£¹í•‘
- `HAVING`: ê·¸ë£¹ í•„í„°ë§
- `ORDER BY`: ì •ë ¬
  - `ASC`: ì˜¤ë¦„ì°¨ìˆœ
  - `DESC`: ë‚´ë¦¼ì°¨ìˆœ
- `LIMIT`: ì¡°íšŒí•  ë ˆì½”ë“œ ê°œìˆ˜

## ì§‘ê³„ í•¨ìˆ˜

- `AVG`: í‰ê·  ê°’
- `COUNT(*)`: ì „ì²´ í–‰ ìˆ˜
- `COUNT(ì—´ì´ë¦„)`: NULLì´ ì•„ë‹Œ í–‰ ìˆ˜
- `MAX`: ìµœëŒ€ ê°’
- `MIN`: ìµœì†Œ ê°’
- `SUM`: í•©ê³„

> ğŸ’¡ GROUP BY ì„œìš© ì‹œ ì£¼ì˜ì‚¬í•­
>
> SELECT ì ˆì—ëŠ” GROUP BY ì»¬ëŸ¼ì´ë‚˜, ì§‘ê³„í•¨ìˆ˜ë§Œ ì˜¬ ìˆ˜ ìˆìŒ

## DISTINCT ì¤‘ë³µ ì œê±°

```sql
SELECT DISTINCT ì»¬ëŸ¼ëª…
FROM í…Œì´ë¸”ëª…;
```

# ì°¸ê³ 

- [https://www.inflearn.com/course/ê¹€ì˜í•œ-ì‹¤ì „-ë°ì´í„°ë² ì´ìŠ¤-ì…ë¬¸](https://www.inflearn.com/course/%EA%B9%80%EC%98%81%ED%95%9C-%EC%8B%A4%EC%A0%84-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%9E%85%EB%AC%B8)
